@using MudBlazor
@using MudFPVAssistant.Components

<MudPaper Class="p-4">
    <MudText Class="mb-2" Typo="Typo.h5">Flight History</MudText>

    <MudDataGrid T="FlightInfo"
                 Items="Flights"
                 Hover="true"
                 Dense="false">
        <Columns>
            <PropertyColumn Property="x => x.Date"
                            Title="Дата"
                            Format="dd-MM-yyyy" />
            <PropertyColumn Property="x => x.Name"
                            Title="Name" />
            <PropertyColumn Property="x => x.Location"
                            Title="Location" />
            <PropertyColumn Property="x => x.FlightTime"
                            Title="Time" />
            <PropertyColumn Property="x => x.UsedMah"
                            Title="mAh" />
            <PropertyColumn Property="x => x.CellCount"
                            Title="Cells" />
            <PropertyColumn Property="x => x.BatType"
                            Title="Type" />
            <PropertyColumn Property="x => x.Comment"
                            Title="Comments" />

            <!-- Колонка з кнопкою "Видалити" -->
            @*
            <MudDataGridColumn T="FlightInfo" Title="Дія">
                <CellTemplate Context="flight">
                    <MudIconButton Icon="@Icons.Material.Filled.Delete"
                                   Color="Color.Error"
                                   OnClick="@(async () => await OnDelete.InvokeAsync(flight.Id))" />
                </CellTemplate>
            </MudDataGridColumn>
        *@
        </Columns>
    </MudDataGrid>
</MudPaper>

@code {
    [Parameter]
    public IEnumerable<FlightInfo> Flights { get; set; } = [];

    [Parameter]
    public EventCallback<string> OnDelete { get; set; }
}